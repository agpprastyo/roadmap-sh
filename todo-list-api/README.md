# Todo List API

A RESTful API implementation for the [roadmap.sh Todo List API project](https://roadmap.sh/projects/todo-list-api). This project demonstrates proficiency in building secure, authenticated APIs with database integration.

This codebase has been generated by [Autostrada](https://autostrada.dev/).

## Project Overview

This implementation showcases:
- RESTful API design principles
- User authentication and authorization
- Database design and CRUD operations
- Security best practices
- Input validation and error handling

## Skills Demonstrated

✅ User Authentication
✅ Schema Design and Databases
✅ RESTful API Design
✅ CRUD Operations
✅ Error Handling
✅ Security Implementation

## Project Requirements Implementation

### 1. User Authentication
- Complete user registration system
- JWT-based authentication
- Secure password hashing using bcrypt
- Token-based authorization for protected routes

### 2. Todo Management
- Full CRUD operations for todo items
- User-specific todo lists
- Data validation and sanitization
- Proper error handling

## API Documentation

Live API Documentation: [APIdog Documentation](https://www.apidog.com/apidoc/shared-9f6dd212-0dab-4b2a-a45e-8854bcdf523d/register-12245028e0)

### Authentication Endpoints

#### Register User
```http
POST /register

Request:
{
  "name": "John Doe",
  "email": "john@doe.com",
  "password": "password"
}

Response:
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### Login
```http
POST /login

Request:
{
  "email": "john@doe.com",
  "password": "password"
}

Response:
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

### Todo Endpoints

All todo endpoints require authentication via Bearer token:
```http
Authorization: Bearer <your-token>
```

#### Create Todo
```http
POST /todos

Request:
{
  "title": "Buy groceries",
  "description": "Buy milk, eggs, and bread"
}

Response:
{
  "id": 1,
  "title": "Buy groceries",
  "description": "Buy milk, eggs, bread"
}
```

#### Get Todos
```http
GET /todos?page=1&limit=10

Response:
{
  "data": [
    {
      "id": 1,
      "title": "Buy groceries",
      "description": "Buy milk, eggs, bread"
    }
  ],
  "page": 1,
  "limit": 10,
  "total": 1
}
```

#### Update Todo
```http
PUT /todos/:id

Request:
{
  "title": "Buy groceries",
  "description": "Buy milk, eggs, bread, and cheese"
}

Response:
{
  "id": 1,
  "title": "Buy groceries",
  "description": "Buy milk, eggs, bread, and cheese"
}
```

#### Delete Todo
```http
DELETE /todos/:id

Response: 204 No Content
```

### Security Features
- Password hashing with bcrypt
- JWT token authentication
- SQL injection prevention
- Input validation
- Request rate limiting
- XSS protection
- CORS configuration

## Local Development Setup

### Prerequisites
- Go 1.21+
- PostgreSQL

### Environment Variables
```env
BASE_URL=                     # API base URL
HTTP_PORT=4444               # Server port
DB_DSN=                     # PostgreSQL connection string
JWT_SECRET_KEY=            # JWT signing key
```

### Running the Project
1. Clone the repository
2. Set up environment variables
3. Install dependencies:
   ```bash
   go mod tidy
   ```
4. Run migrations:
   ```bash
   make migrations/up
   ```
5. Start the server:
   ```bash
   make run
   ```

## Testing

Run the test suite:
```bash
make test
```

Generate test coverage report:
```bash
make test/cover
```

## Project Structure
```
.
├── cmd/api/              # Application entry point and HTTP handlers
├── internal/             # Internal packages
│   ├── database/        # Database operations and models
│   ├── validator/       # Input validation
│   └── response/        # HTTP response helpers
└── assets/
    └── migrations/      # Database migrations
```

## Learning Outcomes

This project demonstrates proficiency in:
1. Implementing secure user authentication
2. Designing and implementing RESTful APIs
3. Database modeling and operations
4. Input validation and error handling
5. Security best practices
6. API documentation

